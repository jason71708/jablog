---
title: 'Bucket Sort'
tags:
  - algorithms
keywords: [algorithms, 演算法]
---

Bucket Sort 和之前的 [Radix Sort](./17-radix-sort.md) 有點類似，建立幾個桶子並將資料丟進去排序。而 Bucket Sort 是取區間，例如 1 號桶子裝 0 ~ 9 的數值， 2 號桶子裝 1 ~ 19 的數值，以此類推。

## Fundamental

Bucket Sort 的步驟有 3 個，分散 (Scatter)、排序 (Sort)、收集 (Gather)。

如前述，我們取好區間與需要幾個桶子，並開始將這些資料**分散**在對應區間的桶子中：

資料：

|  0.12  |  11  |  3.12  |  0.03  |  9  |  0.87  |  0.5  |  2  |  -2  |  -4.123  |  -9  |  10  |  3  |
|---|---|---|---|---|---|---|---|---|---|---|---|---|

區間與桶子的設定有各種方式，固定的或是依照資料來定的都有，這邊依照資料定有以下兩種做法：

1. 設定桶子 5 個，區間取最大最小值相減再除以 5 。
2. 設定區間，並取最大最小值相減再除以區間 (需再加 1 ，因為有小數點的情況代表還有資料未包含在內)。

這邊我們選做法 1 。

最大最小值分別是 11 與 -9 相減再除以 5 得到區間是 4 。

建出桶子之後將資料放入對應的桶子內：

|  -9 ~ -5  |  -5 ~ -1  |  -1 ~ 3  |  3 ~ 7  |  7 ~ 11  |
|---|---|---|---|---|
| -9 | -2 | 0.12 | 3.12 | 11 |
|  | -4.123 | 0.03 | 3 | 9 |
|  |  | 0.87 |  | 10 |
|  |  | 0.5 |  |  |
|  |  | 2 |  |  |

然後遍歷這些桶子內的資料做**排序**，通常用 [Insertion Sort](./14-insertion-sort.md) ，用其他的也可以，視需求情況而定。

|  -9 ~ -5  |  -5 ~ -1  |  -1 ~ 3  |  3 ~ 7  |  7 ~ 11  |
|---|---|---|---|---|
| -9 | -4.123 | 0.03 | 3 | 9 |
|  | -2 | 0.12 | 3.12 | 10 |
|  |  | 0.5 |  | 11 |
|  |  | 0.87 |  |  |
|  |  | 2 |  |  |

排序後將桶子從小到大一一組合**收集**起來：

|  -9  |  -4.123  |  -2  |  0.03  |  0.12  |  0.5  |  0.87  |  2  |  3  |  3.12  |  9  |  10  |  11  |
|---|---|---|---|---|---|---|---|---|---|---|---|---|
